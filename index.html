<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Viral Video Playlist</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Inter', sans-serif;
    margin: 0;
    background: #0e0e0e;
    color: white;
  }
  header {
    padding: 1rem;
    background: #111;
    text-align: center;
    font-size: 1.5rem;
    font-weight: 600;
    border-bottom: 2px solid #222;
  }
  .controls {
    padding: 1rem;
    background: #181818;
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    align-items: center;
  }
  .controls input {
    flex: 1;
    padding: 0.5rem;
    border: none;
    border-radius: 4px;
  }
  .controls button {
    padding: 0.5rem 1rem;
    background: #ff0050;
    border: none;
    border-radius: 4px;
    color: white;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.3s;
  }
  .controls button:hover {
    background: #e60048;
  }
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    padding: 1rem;
  }
  .video-card {
    background: #1a1a1a;
    border-radius: 8px;
    overflow: hidden;
    position: relative;
    transition: transform 0.2s;
  }
  .video-card:hover {
    transform: scale(1.02);
  }
  .remove-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    background: rgba(0,0,0,0.6);
    border: none;
    color: white;
    font-size: 14px;
    padding: 4px 6px;
    cursor: pointer;
    border-radius: 4px;
  }
  .share-btn {
    position: absolute;
    bottom: 5px;
    right: 5px;
    background: rgba(0,0,0,0.6);
    border: none;
    color: white;
    font-size: 14px;
    padding: 4px 6px;
    cursor: pointer;
    border-radius: 4px;
  }
</style>
</head>
<body>
  <header>ðŸŽ¥ My Viral Playlist</header>
  <div class="controls">
    <input type="text" id="videoLink" placeholder="Paste video link here..." />
    <button onclick="addVideo()">Add Video</button>
  </div>
  <div id="videoGrid" class="grid"></div>

<script>
  const grid = document.getElementById('videoGrid');
  let videos = [];

  function detectPlatform(url) {
    if (url.includes('tiktok.com')) return 'tiktok';
    if (url.includes('bilibili.com')) return 'bilibili';
    if (url.includes('facebook.com')) return 'facebook';
    if (url.includes('rumble.com')) return 'rumble';
    if (url.match(/\.mp4$/)) return 'mp4';
    return 'unknown';
  }

  function createEmbed(url) {
    const platform = detectPlatform(url);
    if (platform === 'tiktok') {
      return `<iframe src="${url}" frameborder="0" allow="autoplay; fullscreen" muted></iframe>`;
    }
    if (platform === 'bilibili') {
      return `<iframe src="${url}" frameborder="0" allow="autoplay; fullscreen" muted></iframe>`;
    }
    if (platform === 'facebook') {
      return `<iframe src="${url}" frameborder="0" allow="autoplay; fullscreen" muted></iframe>`;
    }
    if (platform === 'rumble') {
      return `<iframe src="${url}" frameborder="0" allow="autoplay; fullscreen" muted></iframe>`;
    }
    if (platform === 'mp4') {
      return `<video src="${url}" autoplay muted loop playsinline controls></video>`;
    }
    return `<a href="${url}" target="_blank">Open Video</a>`;
  }

  function addVideo() {
    const url = document.getElementById('videoLink').value.trim();
    if (!url) return;
    videos.push(url);
    renderVideos();
    document.getElementById('videoLink').value = '';
  }

  function removeVideo(index) {
    videos.splice(index, 1);
    renderVideos();
  }

  function shareVideo(url) {
    const shareUrl = `${url}?utm_source=myplaylist&utm_medium=share_button`;
    navigator.clipboard.writeText(shareUrl);
    alert('Share link copied: ' + shareUrl);
  }

  function renderVideos() {
    grid.innerHTML = '';
    videos.forEach((url, index) => {
      const card = document.createElement('div');
      card.className = 'video-card';
      card.innerHTML = `
        ${createEmbed(url)}
        <button class="remove-btn" onclick="removeVideo(${index})">âœ–</button>
        <button class="share-btn" onclick="shareVideo('${url}')">ðŸ”—</button>
      `;
      grid.appendChild(card);
    });
  }

  // Infinite scroll simulation
  window.addEventListener('scroll', () => {
    if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {
      // Load more if needed
    }
  });
</script>
</body>
</html>
